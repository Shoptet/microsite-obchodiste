!function($){var $autofill,$button,$error,$autofillContainer,enabled=!1;function showError(message){"string"==typeof message&&0<message.length?$error.html(message):$error.html(local.error)}function clearError(){$error.html("")}function handleAutofill(){clearError(),$button.attr("disabled",!0);var data={action:"identification_number_api",_ajax_nonce:settings.nonce,in:$("#acf-field_5b5ecaf4052fb").val(),country:$("#acf-field_5bbdc26030686").val()};$.post(settings.ajax_url,data).done(function(res){var data;1==res.success?(data=res.data,$("#acf-field_5b5ecc9d052fc").val(data.tin),$("#acf-field_5b5ec9b4052f8").val(data.street),$("#acf-field_5b5eca63052f9").val(data.city),$("#acf-field_5b5eca9d052fa").val(data.zip),$("#acf-field_5b5ed2ca0a22d").val(data.region)):showError(res.data)}).always(function(){$button.attr("disabled",!1)}).fail(function(){showError()})}function updateAutofillAbility(){"cz"==$("#acf-field_5bbdc26030686").val()?enabled||(clearError(),$autofillContainer.append($autofill),updateButtonAbility(),$button.on("click",handleAutofill),enabled=!0):enabled&&($autofill.detach(),$button.off("click",handleAutofill),enabled=!1)}function updateButtonAbility(){var inVal=$("#acf-field_5b5ecaf4052fb").val();$button.attr("disabled",!inVal.length)}$(($button=$('<input class="button button-primary button-large" type="button">').attr("value",local.button_label).css({"margin-top":"1rem"}),$error=$("<div></div>").css({color:"#f00","margin-top":"0.5rem"}),$autofill=$("<div></div>").append($button).append($error),$autofillContainer=$("[data-key=field_5b5ecaf4052fb] .acf-input"),updateAutofillAbility(),updateButtonAbility(),$("#acf-field_5bbdc26030686").on("change",updateAutofillAbility),void $("#acf-field_5b5ecaf4052fb").on("input",updateButtonAbility)))}(jQuery);